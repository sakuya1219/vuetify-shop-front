import{a7 as S,aX as C,o as d,ac as V,w as t,b as s,V as P,ak as u,aT as x,af as l,ag as c,a$ as k,aU as b,ah as I,a1 as y,aS as T,ai as w,aj as B,a9 as N,D as f,a as E,d as $,F as D,N as R,ay as A}from"./index-C5QfvmIE.js";import{V as _}from"./VCol-tD9voUOp.js";import{V as F}from"./VPagination-DoypblF5.js";import{V as M}from"./VRow-JzsSliHv.js";import{V as U}from"./VContainer-DaGjaZnN.js";const j=a=>(w("data-v-c5238daa"),a=a(),B(),a),z={class:"overlay"},G=j(()=>u("br",null,null,-1)),L={__name:"ProductCard",props:{_id:String,image:String,name:String,age:Number,description:String,adoptable:Boolean,breed:String},setup(a){const i=C(),m=a,o=()=>{i.push(`/products/${m._id}`)};return(p,n)=>(d(),V(T,{onClick:o,class:"hover-card"},{default:t(()=>[s(P,{src:a.image,class:"full-image"},null,8,["src"]),u("div",z,[s(x,{class:"title-center"},{default:t(()=>[l(c(a.name),1)]),_:1}),s(k,{class:"subtitle-center"},{default:t(()=>[l(c(a.age)+" 歲 ",1)]),_:1}),s(b,{class:"text-center"},{default:t(()=>[l(c(a.breed)+" ",1),G,u("span",{class:I(a.adoptable?"status-green":"status-red")},[s(y,{color:a.adoptable?"green":"red",small:""},{default:t(()=>[l("mdi-cat")]),_:1},8,["color"]),l("   "+c(a.adoptable?"閒置中":"上工中"),1)],2)]),_:1}),s(b,{class:"description"},{default:t(()=>[l(c(a.description),1)]),_:1})])]),_:1}))}},X=S(L,[["__scopeId","data-v-c5238daa"]]),q=u("h1",{class:"text-center"},"站檯小貓",-1),v=16,W={__name:"product",setup(a){const{api:i}=A(),m=N(),o=f(1),p=f(1),n=f([]),h=async()=>{var g,r;try{const{data:e}=await i.get("/product",{params:{itemsPerPage:v,page:o.value}});p.value=Math.ceil(e.result.total/v),n.value.splice(0,n.value.length,...e.result.data)}catch(e){console.log(e),m({text:((r=(g=e==null?void 0:e.response)==null?void 0:g.data)==null?void 0:r.message)||"發生錯誤",snackbarProps:{color:"red"}})}};return h(),(g,r)=>(d(),V(U,null,{default:t(()=>[s(M,null,{default:t(()=>[s(_,{cols:"12"},{default:t(()=>[q]),_:1}),(d(!0),E(D,null,$(n.value,e=>(d(),V(_,{cols:"12",md:"6",lg:"3",key:e._id},{default:t(()=>[s(X,R({ref_for:!0},e),null,16)]),_:2},1024))),128)),s(_,{cols:"12"},{default:t(()=>[s(F,{modelValue:o.value,"onUpdate:modelValue":[r[0]||(r[0]=e=>o.value=e),h],length:p.value,rounded:"circle"},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1}))}};export{W as default};
